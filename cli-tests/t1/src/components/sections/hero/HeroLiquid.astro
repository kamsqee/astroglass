---
import '../../../styles/components/hero/HeroLiquid.css';
import LiquidSectionTag from '../../ui/liquid/LiquidSectionTag.astro';
import { useTranslations } from '../../../utils/i18n';
import { getLocaleFromUrl } from '../../../utils/locale-utils';

const locale = getLocaleFromUrl(Astro.url);
const t = useTranslations(locale);
---

<section class="relative min-h-[90vh] flex items-center justify-center px-4 pt-[calc(9rem+var(--nav-offset))] pb-32 md:py-32">
  <!-- Animated Liquid Blob Background -->
  <div class="c-hero-liquid__blob-bg">
    <svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice">
      <defs>
        <filter id="heroLiquidGoo">
          <feGaussianBlur in="SourceGraphic" stdDeviation="8" result="blur" />
          <feColorMatrix in="blur" type="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 20 -8" result="goo" />
          <feBlend in="SourceGraphic" in2="goo" />
        </filter>
      </defs>
      <g filter="url(#heroLiquidGoo)">
        <path class="c-hero-liquid__blob-path-1" d="M420,300Q380,500,200,480Q20,460,60,300Q100,140,260,100Q420,60,420,300Z" />
        <path class="c-hero-liquid__blob-path-2" d="M380,320Q340,500,180,460Q20,420,60,260Q100,100,280,120Q460,140,380,320Z" />
      </g>
    </svg>
  </div>

  <div class="relative z-10 max-w-5xl mx-auto text-center">
    <!-- Badge with better spacing -->
    <LiquidSectionTag label={t('hero.liveBadge')} class="mb-8 md:mb-12 animate-fade-in" />

    <!-- Headline with responsive scaling -->
    <h1 class="text-5xl sm:text-6xl md:text-8xl xl:text-[11rem] font-black tracking-tighter text-base-content mb-6 md:mb-8 leading-[0.95] md:leading-[0.85] animate-reveal">
      <span class="inline-block px-2 py-1 bg-gradient-to-br from-base-content via-base-content to-base-content/30 bg-clip-text text-transparent">
        {t('hero.title')}
      </span>
    </h1>

    <!-- Subtitle with better mobile line height -->
    <p class="text-base sm:text-lg md:text-xl text-base-content/75 max-w-2xl mx-auto mb-10 md:mb-12 leading-relaxed sm:leading-loose font-medium animate-fade-in opacity-0" style="animation-delay: 0.2s; animation-fill-mode: forwards;">
      {t('hero.subtitle')}
    </p>

    <!-- CTAs with improved touch targets -->
    <div class="flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-5 mb-12 animate-fade-in opacity-0" style="animation-delay: 0.4s; animation-fill-mode: forwards;">
      <a href="#services" class="c-hero-liquid__btn-primary group relative w-full sm:w-auto px-10 py-5 rounded-2xl bg-base-content text-base-100 font-bold overflow-hidden text-center">
        <span class="relative z-10">{t('hero.cta')}</span>
      </a>
      
      <a href="https://github.com/kamsqee/astroglass" class="c-hero-liquid__btn-secondary group w-full sm:w-auto px-10 py-5 rounded-2xl border border-base-content/10 bg-base-content/[0.02] backdrop-blur-xl text-base-content font-bold flex items-center justify-center gap-2">
        {t('hero.secondaryCta')}
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="c-hero-liquid__arrow-icon opacity-40"><path d="M5 12h14m-7-7 7 7-7 7"/></svg>
      </a>
    </div>

    <!-- Liquid Trust Pills (abstract organic shapes instead of plain text logos) -->
    <div class="animate-fade-in opacity-0" style="animation-delay: 0.6s; animation-fill-mode: forwards;">
      <span class="text-xs font-medium text-base-content/80 block mb-3">{t('hero.trustedBy')}</span>
      <div class="c-hero-liquid__trust-pills">
        <span class="c-hero-liquid__trust-pill">Astro</span>
        <span class="c-hero-liquid__trust-pill">Tailwind CSS</span>
        <span class="c-hero-liquid__trust-pill">TypeScript</span>
        <span class="c-hero-liquid__trust-pill">Cloudflare</span>
      </div>
    </div>
  </div>

  <!-- Scroll Indicator (Liquid Drip) -->
  <a href="#about" class="absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 opacity-0 animate-fade-in hover:scale-110 transition-transform duration-300" style="animation-delay: 1.2s; animation-fill-mode: forwards;">
    <span class="text-[10px] font-medium text-base-content/80 uppercase tracking-widest">{t('hero.scrollToExplore')}</span>
    <svg class="c-hero-liquid__scroll-drop w-5 h-5 text-base-content/80" viewBox="0 0 24 24" fill="currentColor">
      <path d="M12 2C12 2 6 10 6 14.5C6 17.54 8.69 20 12 20C15.31 20 18 17.54 18 14.5C18 10 12 2 12 2Z" opacity="0.5"/>
      <path d="M12 5C12 5 8 10.5 8 13.5C8 15.99 9.79 18 12 18C14.21 18 16 15.99 16 13.5C16 10.5 12 5 12 5Z"/>
    </svg>
  </a>
</section>
