---
/**
 * Testimonial Aurora - Aurora Wall of Love
 * Staggered masonry of quote cards with gradient accent borders,
 * hover elevation, and a stats banner at the top.
 */
import { getLocaleFromUrl, useTranslations } from '../../../utils/i18n';

const locale = getLocaleFromUrl(Astro.url);
const t = useTranslations(locale);
import '../../../styles/components/testimonial/TestimonialAurora.css';

const testimonials = [
  { quote: t('testimonial.t3_quote1'), author: t('testimonial.t3_author1'), role: t('testimonial.t3_role1'), company: t('testimonial.t3_company1'), size: 'large' },
  { quote: t('testimonial.t4_quote1'), author: t('testimonial.t4_author1'), role: t('testimonial.t4_role1'), company: '', size: 'small' },
  { quote: t('testimonial.t3_quote2'), author: t('testimonial.t3_author2'), role: t('testimonial.t3_role2'), company: t('testimonial.t3_company2'), size: 'large' },
  { quote: t('testimonial.t4_quote3'), author: t('testimonial.t4_author3'), role: t('testimonial.t4_role3'), company: '', size: 'small' },
  { quote: t('testimonial.t3_quote4'), author: t('testimonial.t3_author4'), role: t('testimonial.t3_role4'), company: t('testimonial.t3_company4'), size: 'medium' },
  { quote: t('testimonial.t3_quote5'), author: t('testimonial.t3_author5'), role: t('testimonial.t3_role5'), company: t('testimonial.t3_company5'), size: 'medium' },
];
---

<section class="testimonial-aurora" id="testimonial">
  <!-- Header -->
  <div class="testimonial-aurora-header">
    <div class="testimonial-aurora-label">
      <span class="testimonial-aurora-stars">â˜… 4.9</span>
      <span>{t('testimonial.eyebrow')}</span>
    </div>
    <h2 class="testimonial-aurora-title">{t('testimonial.wallOfLove')}</h2>
    <p class="testimonial-aurora-subtitle">{t('testimonial.t4_subtitle')}</p>
  </div>

  <!-- Stats strip -->
  <div class="testimonial-aurora-stats">
    <div class="testimonial-aurora-stat-item">
      <span class="testimonial-aurora-stat-value">10K+</span>
      <span class="testimonial-aurora-stat-label">{t('testimonial.happyUsers')}</span>
    </div>
    <div class="testimonial-aurora-stat-divider"></div>
    <div class="testimonial-aurora-stat-item">
      <span class="testimonial-aurora-stat-value">4.9</span>
      <span class="testimonial-aurora-stat-label">{t('testimonial.avgRating')}</span>
    </div>
    <div class="testimonial-aurora-stat-divider"></div>
    <div class="testimonial-aurora-stat-item">
      <span class="testimonial-aurora-stat-value">80+</span>
      <span class="testimonial-aurora-stat-label">{t('testimonial.countries')}</span>
    </div>
  </div>

  <!-- Card Grid with staggered reveal -->
  <div class="testimonial-aurora-grid">
    {testimonials.map((t, idx) => (
      <div class:list={['testimonial-aurora-card', `testimonial-aurora-card--${t.size}`]} style={`animation-delay: ${idx * 0.1}s`}>
        <div class="testimonial-aurora-card-bar"></div>
        <blockquote class="testimonial-aurora-quote">"{t.quote}"</blockquote>
        <div class="testimonial-aurora-author">
          <div class="testimonial-aurora-avatar-ring">
            <div class="testimonial-aurora-avatar">
              {t.author.charAt(0)}
            </div>
          </div>
          <div class="testimonial-aurora-author-info">
            <span class="testimonial-aurora-author-name">{t.author}</span>
            <span class="testimonial-aurora-author-role">
              {t.role}{t.company ? ` at ${t.company}` : ''}
            </span>
          </div>
        </div>
      </div>
    ))}
  </div>
</section>
