---
/**
 * CTA Luxury - The Magnetic Pull
 * A final, high-impact call to action with particle attraction effects.
 * Mobile: Simplified particles. Desktop: Mouse-reactive field.
 */
import '../../../styles/components/cta/CTALuxury.css';
import { useTranslations } from '../../../utils/i18n';
import { getLocaleFromUrl } from '../../../utils/locale-utils';
import LuxuryButton from '../../ui/luxury/LuxuryButton.astro';
import LuxurySectionLabel from '../../ui/luxury/LuxurySectionLabel.astro';

const locale = getLocaleFromUrl(Astro.url);
const t = useTranslations(locale);
---

<section class="relative py-32 lg:py-48 px-4 sm:px-6 lg:px-8 overflow-hidden bg-base-100">
  <div class="max-w-4xl mx-auto text-center relative z-10">
    <!-- Header -->
    <div class="mb-12 lg:mb-16">
       <div class="mb-8 flex justify-center">
         <LuxurySectionLabel text={t('cta.eyebrow')} />
       </div>
       <h2 class="text-5xl md:text-7xl lg:text-9xl font-normal font-serif text-base-content tracking-tighter leading-none mb-8">
          {t('cta.title')}
       </h2>
       <p class="text-lg md:text-xl text-base-content/75 max-w-2xl mx-auto font-light leading-relaxed">
          {t('cta.subtitle')}
       </p>
    </div>

    <!-- Magnetic Button Wrapper -->
    <div class="c-cta-luxury__magnetic-wrapper inline-block relative z-20">
       <div class="absolute inset-0 bg-accent/20 blur-[100px] rounded-full pointer-events-none"></div>
       
       <LuxuryButton href="#contact" variant="primary" class="text-xl px-12 py-5 shadow-2xl">
          {t('cta.button')}
       </LuxuryButton>
    </div>

    <!-- Trust -->
    <p class="mt-12 text-xs font-bold uppercase tracking-widest text-base-content/80">
       {t('cta.trust')}
    </p>
  </div>

  <!-- Particle Field -->
  <div class="c-cta-luxury__particles absolute inset-0 pointer-events-none">
     <!-- Generated by JS -->
  </div>
</section>

<script>
  // Particle System
  const container = document.querySelector('.c-cta-luxury__particles');
  if (container) {
     for (let i = 0; i < 30; i++) {
        const p = document.createElement('div');
        p.className = 'c-cta-luxury__particle absolute w-1 h-1 bg-base-content/20 rounded-full';
        p.style.left = Math.random() * 100 + '%';
        p.style.top = Math.random() * 100 + '%';
        p.style.animation = `float ${5 + Math.random() * 10}s infinite ease-in-out ${Math.random() * -5}s`;
        container.appendChild(p);
     }
  }
</script>
