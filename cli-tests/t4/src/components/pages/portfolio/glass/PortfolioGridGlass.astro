---
/**
 * Glass Portfolio â€” Bento Grid
 * 
 * Frosted glass card grid with reflection streaks,
 * inner glow on hover, and "View Details" modal triggers.
 */
import '../../../../styles/components/portfolio/PortfolioGridGlass.css';
interface Project {
  id: string;
  title: string;
  description: string;
  longDescription: string;
  category: string;
  categoryLabel: string;
  challenge: string;
  solution: string;
  impact: string;
  techStack: string[];
  metric: string;
  metricLabel: string;
  color: string;
  glowColor: string;
  num: string;
}

interface Props {
  projects: Project[];
  viewDetailsLabel: string;
}

const { projects, viewDetailsLabel } = Astro.props;
---

<section class="relative py-12 sm:py-16 md:py-20 px-4 sm:px-6" id="pp-glass-projects">
  <div class="max-w-6xl mx-auto">
    <div class="c-portfolio-page-glass__grid">
      {projects.map((p, i) => (
        <div
          class="c-portfolio-page-glass__card group"
          data-category={p.category}
          data-project-index={i}
        >
          <!-- Reflection streak -->
          <div class="c-portfolio-page-glass__reflection"></div>

          <div class="c-portfolio-page-glass__card-layout">
            <!-- Visual Area -->
            <div class="c-portfolio-page-glass__visual">
              <div class={`absolute inset-0 bg-gradient-to-br ${p.color}`}></div>
              <div class="c-portfolio-page-glass__inner-glow" style={`background: ${p.glowColor}`}></div>

              <!-- Number watermark -->
              <div class="absolute top-6 right-6 z-10">
                <span class="text-5xl sm:text-6xl font-black text-base-content/[0.06] leading-none select-none">{p.num}</span>
              </div>

              <!-- Category -->
              <div class="absolute top-6 left-6 z-10">
                <span class="px-3 py-1.5 rounded-xl bg-base-content/10 backdrop-blur-sm border border-base-content/15 text-base-content text-[10px] font-bold uppercase tracking-wider">
                  {p.categoryLabel}
                </span>
              </div>

              <!-- Metric -->
              <div class="absolute bottom-6 left-6 z-10">
                <div class="flex items-baseline gap-2">
                  <span class="text-2xl sm:text-3xl font-black text-base-content/80">{p.metric}</span>
                  <span class="text-[10px] text-base-content/75 font-bold uppercase tracking-wider">{p.metricLabel}</span>
                </div>
              </div>
            </div>

            <!-- Content Area -->
            <div class="p-6 sm:p-8 flex flex-col justify-center">
              <h3 class="text-xl sm:text-2xl lg:text-3xl font-black text-base-content mb-2 tracking-tight group-hover:text-accent transition-colors duration-500">
                {p.title}
              </h3>

              <p class="text-sm text-base-content/75 leading-relaxed mb-5 group-hover:text-base-content/75 transition-colors duration-500">
                {p.longDescription}
              </p>

              <!-- Tech preview -->
              <div class="flex flex-wrap gap-1.5 mb-5">
                {p.techStack.slice(0, 3).map((tech) => (
                  <span class="c-portfolio-page-glass__tech-pill">{tech}</span>
                ))}
                {p.techStack.length > 3 && (
                  <span class="c-portfolio-page-glass__tech-pill">+{p.techStack.length - 3}</span>
                )}
              </div>

              <!-- View Details -->
              <button
                class="inline-flex items-center gap-3 text-accent font-bold text-xs uppercase tracking-widest hover:gap-5 transition-all duration-300 cursor-pointer w-fit"
                data-open-modal={i}
              >
                {viewDetailsLabel}
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                </svg>
              </button>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>



