---
import { getEnabledLocaleCodes, defaultLocale } from '../../config/locales';

export async function getStaticPaths() {
  return getEnabledLocaleCodes().map(lang => {
    return { params: { lang: lang === defaultLocale ? undefined : lang } };
  });
}

import BaseLayout from '../../layouts/BaseLayout.astro';
import HeaderDefault from '../../components/layout/header/HeaderDefault.astro';
import FooterIndex from '../../components/sections/footer/FooterIndex.astro';
import { useTranslations } from '../../utils/i18n';
import { getLocaleFromUrl } from '../../utils/locale-utils';

// Home page sections
import HeroHome from '../../components/sections/hero/HeroHome.astro';
import StatsStrip from '../../components/sections/landing/StatsStrip.astro';
import TemplateShowcase from '../../components/sections/landing/TemplateShowcase.astro';
import HowItWorks from '../../components/sections/landing/HowItWorks.astro';
import FeaturesHome from '../../components/sections/features/FeaturesHome.astro';
import ThemeGallery from '../../components/sections/portfolio/ThemeGallery.astro';
import TestimonialHome from '../../components/sections/testimonial/TestimonialHome.astro';
import FAQHome from '../../components/sections/landing/FAQHome.astro';
import CTAHome from '../../components/sections/cta/CTAHome.astro';

const locale = Astro.params.lang || 'en'; // getLocaleFromUrl(Astro.url);
const t = useTranslations(locale);
---

<BaseLayout title={t('title')} description={t('description')} showHeader={false}>
  <HeaderDefault />
  
  <main class="min-h-screen">
    <HeroHome />
    <StatsStrip />
    <TemplateShowcase />
    <HowItWorks />
    <FeaturesHome />
    <ThemeGallery />
    <TestimonialHome />
    <FAQHome />
    <CTAHome />
  </main>
  
  <FooterIndex />
</BaseLayout>
