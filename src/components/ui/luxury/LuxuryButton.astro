---
interface Props {
  href?: string;
  variant?: 'primary' | 'secondary' | 'text';
  class?: string;
  icon?: boolean; // Whether to show the arrow icon
  type?: 'button' | 'submit' | 'reset';
  onclick?: string;
}

const { href, variant = 'primary', class: className, icon = true, type } = Astro.props;

const baseStyles = "inline-flex items-center justify-center gap-3 rounded-full font-bold transition-all duration-300 ease-luxury group cursor-pointer";

const variants = {
  primary: "bg-base-content text-base-100 px-8 py-4 shadow-main-luxury hover:shadow-hover-luxury hover:scale-105 active:scale-95 border-none",
  secondary: "bg-transparent border border-base-content/20 text-base-content px-8 py-4 hover:border-base-content hover:bg-base-content/5",
  text: "text-accent text-xs font-bold tracking-luxury-wide hover:translate-x-1 p-2 bg-transparent border-none shadow-none"
};

const styles = [baseStyles, variants[variant], className];
---

{
  type ? (
    <button type={type} class:list={styles}>
      <slot />
      {icon && (
        <svg class="w-4 h-4 transition-transform duration-300 group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
        </svg>
      )}
    </button>
  ) : (
    <a href={href} class:list={styles}>
      <slot />
      {icon && (
        <svg class="w-4 h-4 transition-transform duration-300 group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
        </svg>
      )}
    </a>
  )
}
