---
/**
 * About Liquid - The Liquid Orb (Distinctive)
 * Content left with stats, animated liquid orb right, wave divider.
 */
import { useTranslations } from '../../../utils/i18n';
import { getLocaleFromUrl } from '../../../utils/locale-utils';

import '../../../styles/components/about/AboutLiquid.css';
import LiquidSectionTag from '../../ui/liquid/LiquidSectionTag.astro';
import { Image } from 'astro:assets';
import liquidAboutImg from '../../../assets/themes/liquid/LiquidAbout.png';

export interface Props {
  isFirst?: boolean;
}

const { isFirst = false } = Astro.props;
const locale = getLocaleFromUrl(Astro.url);
const t = useTranslations(locale);
---

<section id="about" class:list={["relative px-4 sm:px-6 overflow-hidden", isFirst ? "pt-[calc(40px+var(--nav-offset))] pb-16 md:pb-32 md:pt-[calc(80px+var(--nav-offset))]" : "py-16 md:py-32"]}>
  <div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20 items-center">
    <!-- Content -->
    <div class="order-2 lg:order-1">
      <!-- Badge -->
      <LiquidSectionTag label={t('about.ourStory')} class="mb-6" />

      <h2 class="text-3xl sm:text-4xl lg:text-6xl font-black mb-6 leading-tight text-base-content">
        {t('about.title')}
      </h2>
      
      <p class="text-lg sm:text-xl text-base-content/75 leading-relaxed mb-8 max-w-xl">
        {t('about.description')}
      </p>

      <!-- Wave Divider (replaces border-t) -->
      <div class="c-about-liquid__wave-divider">
        <svg viewBox="0 0 1200 24" preserveAspectRatio="none" fill="none">
          <path d="M0,12 C100,4 200,20 300,12 C400,4 500,20 600,12 C700,4 800,20 900,12 C1000,4 1100,20 1200,12 C1300,4 1400,20 1500,12 C1600,4 1700,20 1800,12 C1900,4 2000,20 2100,12 C2200,4 2300,20 2400,12" stroke="hsl(var(--a))" stroke-width="1.5" stroke-opacity="0.2" />
        </svg>
      </div>

      <!-- Stats with label -->
      <div>
        <p class="text-[10px] uppercase tracking-widest font-bold text-base-content/80 mb-6">{t('about.byTheNumbers')}</p>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 sm:gap-8">
          <div class="c-about-liquid__stat group">
            <div class="text-2xl lg:text-3xl font-black text-base-content mb-1 group-hover:text-accent transition-all duration-700">{t('about.stat1')}</div>
            <div class="text-xs text-base-content/75">{t('about.stat1Sub')}</div>
          </div>
          <div class="c-about-liquid__stat group">
            <div class="text-2xl lg:text-3xl font-black text-base-content mb-1 group-hover:text-accent transition-all duration-700">{t('about.stat2')}</div>
            <div class="text-xs text-base-content/75">{t('about.stat2Sub')}</div>
          </div>
          <div class="c-about-liquid__stat group">
            <div class="text-2xl lg:text-3xl font-black text-base-content mb-1 group-hover:text-accent transition-all duration-700">{t('about.stat3')}</div>
            <div class="text-xs text-base-content/75">{t('about.stat3Sub')}</div>
          </div>
        </div>
      </div>

      <!-- CTA -->
      <div class="pt-8 w-full">
        <a href={`/${locale}/contact`} class="inline-flex items-center gap-2 text-accent font-bold text-sm hover:gap-4 transition-all duration-500 group">
          {t('about.learnMore')}
          <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform duration-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
          </svg>
        </a>
      </div>
    </div>

    <!-- Image Container (Simplified) -->
    <div class="relative flex justify-center order-1 lg:order-2">
      <div class="relative w-full aspect-square max-w-lg mx-auto flex items-center justify-center p-4 sm:p-8">
        <!-- Ambient glow -->
        <div class="absolute inset-0 bg-accent/20 rounded-[3rem] blur-3xl"></div>
        <div class="absolute inset-8 bg-primary/20 rounded-full blur-2xl"></div>
        
        <!-- Clean Image render -->
        <div class="relative z-10 w-full h-full">
          <Image 
            src={liquidAboutImg} 
            alt="About Liquid Theme" 
            width={800}
            class="w-full h-full object-contain"
          />
        </div>
      </div>
    </div>
  </div>
</section>
