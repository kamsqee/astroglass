---
title: "API å‚è€ƒæ‰‹å†Œ"
description: "AstroGlass ç»„ä»¶ä¸å®ç”¨å·¥å…·çš„æŠ€æœ¯ API å‚è€ƒã€‚"
order: 1
---

import Callout from '../../../../../components/mdx/Callout.astro';

AstroGlass ä¸­ä½¿ç”¨çš„æ ¸å¿ƒå‡½æ•°ã€ç±»å‹åŠé…ç½®å¯¹è±¡çš„è¯¦ç»†å‚è€ƒèµ„æ–™ã€‚

## `useTranslations(locale)`

è¿”å›ä¸€ä¸ªç”¨äºè·å–æŒ‡å®šè¯­è¨€ç¯å¢ƒç¿»è¯‘çš„å‡½æ•°ã€‚

**æ¨¡å—**: `src/utils/i18n.ts`

**ç­¾å**:
```typescript
function useTranslations(locale: Locale): (key: string) => string;
```

**å‚æ•°**:
| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|-----------|------|-------------|
| `locale` | `Locale` (`'en' \| 'ru'`) | éœ€è¦åŠ è½½ç¿»è¯‘çš„è¯­è¨€ä»£ç ã€‚ |

**è¿”å›**: ä¸€ä¸ª `t(key: string): string` å‡½æ•°ï¼Œå®ƒèƒ½å°†ç‚¹å·åˆ†éš”æ ¼å¼çš„é”®ï¼ˆdot-notation keyï¼‰è§£æä¸ºå…¶å¯¹åº”çš„ç¿»è¯‘å€¼ã€‚å¦‚æœæœªæ‰¾åˆ°é”®ï¼Œåˆ™åœ¨å¼€å‘æ¨¡å¼ä¸‹è®°å½•ä¸€æ¡è­¦å‘Šï¼ˆwarningï¼‰ï¼Œå¹¶è¿”å›è¯¥é”®çš„å­—ç¬¦ä¸²ã€‚

**ç”¨æ³•**:
```astro
---
import { useTranslations } from '../utils/i18n';
import { getLocaleFromUrl } from '../utils/locale-utils';

const locale = getLocaleFromUrl(Astro.url);
const t = useTranslations(locale);
---
<h1>{t('hero.title')}</h1>
<p>{t('hero.subtitle')}</p>
```

**ä¸»è¦è¡Œä¸ºç‰¹ç‚¹**:
- æ¥è‡ª `common.json` çš„é”®åˆ†å¸ƒåœ¨æ ¹çº§åˆ«ï¼ˆä¾‹å¦‚ï¼š`t('title')`ï¼‰
- æ‰€æœ‰å…¶ä»–æ–‡ä»¶éƒ½æ˜¯ä»¥æ–‡ä»¶åä½œä¸ºå‘½åç©ºé—´éš”å¼€çš„ï¼ˆä¾‹å¦‚ï¼š`t('hero.title')`, `t('pricing.plans.pro.name')`ï¼‰
- ç¼ºå¤±çš„é”®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¼šè¿”å›é”®çš„åŸå­—ç¬¦ä¸²ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸­åˆ™è®°å½•è­¦å‘Šä¿¡æ¯

---

## `getLocaleFromUrl(url)`

ä»å½“å‰çš„ URL é“¾æ¥ä¸­æå–å‡ºè¯­è¨€ä»£å·ã€‚

**æ¨¡å—**: `src/utils/locale-utils.ts`

**ç­¾å**:
```typescript
function getLocaleFromUrl(url: URL): Locale;
```

è¿”å› URL è·¯å¾„ä¸­çš„è¯­è¨€å‰ç¼€ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™é»˜è®¤è¿”å› `'en'`ã€‚

---

## `buildNavLinks(locale, section)`

ä¸ºæ–‡æ¡£çš„ä¾§è¾¹æ ç”Ÿæˆå¯¹åº”çš„å¯¼èˆªé“¾æ¥ã€‚

**æ¨¡å—**: `src/utils/docs-nav.ts`

**ç­¾å**:
```typescript
function buildNavLinks(locale: string, section?: string): NavLink[];
```

è¿”å›ä¸€ä¸ªä¾›æ–‡æ¡£ä¾§è¾¹æ ç»„ä»¶ä½¿ç”¨çš„å¯¼èˆªé“¾æ¥å¯¹è±¡æ•°ç»„ã€‚

---

## `getEnabledThemes()`

è¿”å›æ‰€æœ‰å·²å¼€å¯çš„ä¸»é¢˜å®šä¹‰ã€‚

**æ¨¡å—**: `src/config/themes.ts`

**ç­¾å**:
```typescript
function getEnabledThemes(): ThemeDefinition[];
```

---

## `getThemeById(id)`

é€šè¿‡ ID è¿”å›ç‰¹å®šçš„ä¸»é¢˜å®šä¹‰ã€‚

**æ¨¡å—**: `src/config/themes.ts`

**ç­¾å**:
```typescript
function getThemeById(id: string): ThemeDefinition | undefined;
```

---

## ç±»å‹: `ThemeDefinition`

```typescript
interface ThemeDefinition {
  id: string;              // URL åç¼€ï¼ˆå¦‚ 'liquid'ï¼Œ'aurora'ï¼‰
  name: string;            // å±•ç¤ºåç§°
  color: string;           // Tailwind æ¸å˜ç±»å
  icon: string;            // Emoji å­—ç¬¦å›¾æ ‡
  sections: string[];      // å·²å¯ç”¨æ¿€æ´»çš„åŒºæ®µ
  enabled: boolean;        // ä¸»é¢˜æ˜¯å¦å¤„äºæ´»åŠ¨çŠ¶æ€
  premium: boolean;        // é«˜çº§ç‰ˆæ ‡å¿—
  description: string;     // å•è¡Œæè¿°æ–‡å­—
}
```

## ç±»å‹: `LocaleConfig`

```typescript
interface LocaleConfig {
  code: string;            // ISO è¯­è¨€ä»£ç 
  name: string;            // è‹±æ–‡åç§°
  nativeName: string;      // æœ¬åœ°è¯­è¨€åç§°
  flag: string;            // å›½æ—— emoji å›¾æ ‡
  direction: 'ltr' | 'rtl'; // æ–‡æœ¬æ–¹å‘
  enabled: boolean;        // æ˜¯å¦å¯ç”¨
}
```

## å¯ç”¨ä¸»é¢˜

| ID | åç§° | å›¾æ ‡ |
|----|------|------|
| `liquid` | Liquid | ğŸ’§ |
| `glass` | Glass | ğŸªŸ |
| `neo` | Neo | âš¡ |
| `luxury` | Luxury | ğŸ‘‘ |
| `minimal` | Minimal | âœ¨ |
| `aurora` | Aurora | ğŸŒŒ |
