<%# astro.config.mjs â€” generated by create-astroglass CLI %>
// @ts-check
import { defineConfig } from 'astro/config';
import tailwindcss from '@tailwindcss/vite';
<% if (features.includes('docs') || features.includes('blog')) { %>
import mdx from '@astrojs/mdx';
<% } %>
import { defaultLocale, getEnabledLocaleCodes } from './src/config/locales';
import { adapter, output } from './src/config/providers/active-provider';
<% if (features.includes('react')) { %>

import react from '@astrojs/react';
<% } %>
<% if (features.includes('docs')) { %>

import expressiveCode from 'astro-expressive-code';
<% } %>

// https://astro.build/config
export default defineConfig({
  output,
  adapter,
  integrations: [
<% if (features.includes('docs')) { %>
    expressiveCode({
      themes: ['dracula', 'github-light'],
      themeCssSelector: (theme, context) => {
        if (theme.name === 'dracula') {
          return '<%= darkPalettes.map(p => `[data-theme="${p}"]`).join(", ") %>';
        }
        return '<%= lightPalettes.map(p => `[data-theme="${p}"]`).join(", ") %>';
      },
      styleOverrides: {
        borderColor: 'hsl(var(--bc) / 0.1)',
        borderRadius: '0.75rem',
        frames: {
          frameBoxShadowCssValue: 'none',
          editorActiveTabBorderColor: 'transparent',
          editorTabBarBorderColor: 'hsl(var(--bc) / 0.1)',
          editorActiveTabIndicatorHeight: '2px',
          editorActiveTabIndicatorTopColor: 'transparent',
          editorActiveTabIndicatorBottomColor: 'hsl(var(--a))',
        },
        uiFontFamily: 'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace',
      },
    }),
<% } %>
<% if (features.includes('docs') || features.includes('blog')) { %>
    mdx(),
<% } %>
<% if (features.includes('react')) { %>
    react(),
<% } %>
  ],
  vite: {
    // @ts-ignore
    plugins: [tailwindcss()],
    optimizeDeps: {
      include: ['valibot']
    }
  },
  i18n: {
    defaultLocale,
    locales: getEnabledLocaleCodes(),
  },
});
